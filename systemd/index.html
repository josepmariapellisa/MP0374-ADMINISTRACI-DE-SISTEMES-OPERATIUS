
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../LICENSE/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.0">
    
    
      
        <title>Pràtica 1 - MP0374-ADMINISTRACIÓ DE SISTEMES OPERATIUS</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.9f615399.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MP0374-ADMINISTRACIÓ DE SISTEMES OPERATIUS" class="md-header__button md-logo" aria-label="MP0374-ADMINISTRACIÓ DE SISTEMES OPERATIUS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MP0374-ADMINISTRACIÓ DE SISTEMES OPERATIUS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Pràtica 1
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MP0374-ADMINISTRACIÓ DE SISTEMES OPERATIUS" class="md-nav__button md-logo" aria-label="MP0374-ADMINISTRACIÓ DE SISTEMES OPERATIUS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    MP0374-ADMINISTRACIÓ DE SISTEMES OPERATIUS
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inici
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Pràtica 1
  </span>
  

      </a>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../LICENSE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Llicència
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Pràtica 1</h1>

<p>En aquesta pràctica treballarem amb <strong>systemd</strong>.</p>
<p>Crearem un <strong>target</strong> personalitzat per agrupar serveis.  </p>
<p>També configurarem un <strong>servei</strong> que executarà un script.  </p>
<p>L’script realitzarà una acció simple per comprovar el funcionament.  </p>
<p>Finalment, activarem i provarem tot el conjunt dins del sistema.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_002.png" /></p>
<p>Primer que tot crearem el Target.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_025.png" />
He creat un target que s'activa quan tot està llest: xarxa, usuaris i escriptori. Així controlo que els meus serveis s'inicïen en l'ordre correcte i amb totes les dependències satisfetes.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_005.png" />
Aqui creem aquest directori perquè és on systemd busca els serveis que han d'activar-se quan el teu target <code>pellisa.target</code> s'iniciï. Els enllaços simbòlics dels serveis que vulguis que s'executin amb el teu target aniran aquí dins.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_022.png" /></p>
<p>Hem configurat el sistema perquè utilitzi el nostre target personalitzat com a target per defecte. </p>
<ol>
<li><strong><code>systemctl set-default pellisa.target</code></strong> - Crea un enllaç simbòlic per definir el nostre target com a predeterminat</li>
<li><strong><code>systemctl get-default</code></strong> - Verifica que efectivament <code>pellisa.target</code> és ara el target per defecte</li>
</ol>
<p>Ara el sistema sempre arrencarà amb la nostra configuració personalitzada.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_011.png" /></p>
<p>Ara crearem el servei que tindrem associat al target.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_012.png" /></p>
<p>Aqui veiem el servei systemd que executara el meu script personalitzat. El servei s'assegura que:</p>
<ul>
<li>S'inicia després que la xarxa estigui activa</li>
<li>Es reinicia automàticament si falla</li>
<li>Està gestionat pel meu target <code>pellisa.target</code></li>
<li>És de tipus simple per executar el script directament</li>
</ul>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_014.png" /></p>
<p>He activat el servei perquè s'iniciï automàticament amb el target <code>pellisa.target</code>. Systemd ha creat un enllaç simbòlic dins de la carpeta <code>pellisa.target.wants</code>, que és exactament per això que havíem creat aquest directori abans.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_013.png" /></p>
<p>He recarregat la configuració de systemd perquè detecti el nou servei creat. Això és necessari cada vegada que es crea o modifica un fitxer de servei perquè systemd l'incorpori sense necessitat de reiniciar el sistema.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_028.png" /></p>
<p>He programat un script que recull informació del sistema i envia una notificació. El script:</p>
<ol>
<li>Crea una carpeta segura i un fitxer amb data/hora</li>
<li>Captura dades del sistema (hostname, IP, usuaris, espai de disc)</li>
<li>Guarda tot en un fitxer d'informe</li>
<li>Envia una notificació d'escriptori amb missatge "hackejada" (és broma, clar!)</li>
</ol>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_008.png" /></p>
<p>He donat permisos d'execució al script perquè systemd pugui executar-lo quan el servei s'iniciï. Sense aquest permís, el servei fallaria al intentar executar el script.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_027.png" /></p>
<p>Aqui ja provem de reinciar l'equip i veiem que ja s'ens carrega el target amb el servei i executa el script, a l'ultima part veiem que ens surt failed ja que, la notificació pop-up, ens genera un error.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_029.png" /></p>
<p>I un cop reinciada veiem que s'ens ha generat l'informe amb les dades sensibles de l'equip.</p>
<p><strong>MILLORES DEl SCRIPT</strong></p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_033.png" /></p>
<p>Aquest script de bash està pensat per fer captures de pantalla automàtiques i enviar-les per correu electrònic. Primer defineix algunes variables importants com la carpeta de treball "/home/client1/Excritorio/privat_pellisa", la carpeta on es guardaran les captures, el fitxer de configuració del msmtp (que és un client de correu), l'adreça de correu del destinatari "josepmariapellisa@iesebre.com", el prefix de l'assumpte del correu i el temps d'espera entre captures (5 segons). Després crea la carpeta de captures si no existeix i li assigna permisos restringits (700) tant a la carpeta principal com a la de captures, amb un "2&gt;/dev/null || true" perquè no mostri errors si no pot canviar els permisos. L'script està preparat per capturar pantalles periòdicament i enviar-les automàticament per correu al destinatari especificat.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_034.png" /></p>
<p>En aquesta part del script definim els noms dels fitxers que utilitzarem, afegint-hi un timestamp perquè cada execució tingui noms únics. Creem una variable DATA amb la data i hora actual en format any-mes-dia_hora-minut-segon. Definim FITXER com a l'arxiu d'informació del sistema amb aquesta data, i ASSUMPTE com l'assumpte del correu amb el prefix i la data. També configurem els noms per a la captura de pantalla en PNG, els arxius de text per als processos actius, les finestres obertes i la informació del terminal, a més d'un arxiu TAR comprimit que agruparà totes les captures. Finalment, establim un BOUNDARY únic per a l'estructura MIME del correu electrònic, assegurant-nos que no comenci amb guió per evitar conflictes.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_035.png" /></p>
<p>En aquesta secció realitzem les captures del sistema. Primer esperem que l'entorn gràfic estigui disponible utilitzant la funció wait_for_graphical. A continuació, intentem fer una captura de pantalla mitjançant la funció take_screenshot. Si la captura s'executa correctament, mostrem un missatge indicant on s'ha guardat el fitxer PNG. En cas contrari, si no es pot realitzar la captura (ja sigui per falta d'entorn gràfic o perquè falten les eines necessàries), informem de l'error i deixem la variable SCREENSHOT_PNG buida per indicar que no disposem d'aquesta captura.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_036.png" /></p>
<p>En aquesta secció executem les diferents captures del sistema. Primer esperem que l'entorn gràfic estigui disponible cridant la funció wait_for_graphical. A continuació, intentem realitzar una captura de pantalla mitjançant la funció take_screenshot. Si la captura s'executa amb èxit, mostrem un missatge per consola indicant la ruta on s'ha desat el fitxer PNG. En cas contrari, si no es pot completar la captura (ja sigui per absència d'entorn gràfic o per manca de les eines necessàries), notifiquem l'error i establim la variable SCREENSHOT_PNC com a buida per indicar que no tenim aquesta captura disponible.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_037.png" /></p>
<p>En aquesta part capturem informació dels processos del sistema. Executem una sèrie de comandos que redirigim cap a l'arxiu de processos: primer mostrem l'arbre de processos amb "ps aux --forest" limitat a 200 línies, i si falla mostrem la llista simple de processos. Després generem un llistat dels 20 processos que consumeixen més CPU, mostrant el PID, l'usuari, la comanda i el percentatge d'ús de CPU i memòria. Tota aquesta informació es guarda en el fitxer de processos definit anteriorment, ignorant possibles errors amb "2&gt;/dev/null || true". Finalment, assignem permisos restrictius (600) a aquest fitxer per garantir la seva seguretat.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_038.png" /></p>
<p>En aquesta secció capturem informació sobre les finestres obertes en l'entorn gràfic. Primer comprovem si tenim disponible l'eina "wmctrl" al sistema, i en cas afirmatiu, executem "wmctrl -lp" per obtenir una llista detallada de les finestres amb els seus identificadors i processos. Si no disposem de "wmctrl", llavors cerquem l'eina "xdotool" i l'utilitzem per buscar totes les finestres visibles i obtenir els seus noms. En cas que no trobem cap d'aquestes dues eines, escrivim un missatge d'error en el fitxer indicant que no hi ha eina de gestió de finestres disponible. Finalment, assignem permisos restrictius (600) al fitxer de finestres per garantir la seva seguretat.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_039.png" /></p>
<p>En aquesta secció capturem l'historial de la shell i preparem l'empaquetament de les captures. Primer comprovem si existeix el fitxer .bash_history a la carpeta de l'usuari. Si existeix, n'extraiem les últimes 200 línies amb el comandament tail i les guardem al fitxer d'informació del terminal. En cas que no es trobi el fitxer d'historial o no hi hagi permisos suficients, escrivim un missatge d'error al fitxer. Després assignem permisos restrictius (600) al fitxer de terminal per seguretat. A continuació, creem un directori temporal amb un nom únic dins de la carpeta de captures utilitzant mktemp, i configurem un trap per assegurar-nos que aquest directori temporal s'eliminarà automàticament quan l'script finalitzi, independentment de com acabi.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_040.png" /></p>
<p>En aquesta secció copiem tots els fitxers de captures existents al directori temporal que hem creat. Primer intentem copiar el fitxer principal d'informació del sistema preservant els permisos i enllaços. Si aquesta còpia falla, fem una còpia normal. Després, només si la variable SCREENSHOT_PNG no està buida i el fitxer existeix realment, copiem la captura de pantalla al directori temporal. Seguidament, comprovem l'existència dels fitxers de processos, finestres i terminal, i per a cadascun d'ells que existeixi, el copiem al directori temporal preservant els seus permisos i enllaços. Totes aquestes operacions inclouen redireccions d'error per evitar que possibles fallades en la còpia interrompin l'execució de l'script.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_041.png" /></p>
<p>En aquesta secció creem l'arxiu comprimit amb totes les captures. Primer comprovem si el directori temporal conté algun fitxer utilitzant la comanda find combinada amb read. Si hi ha contingut al directori temporal, executem la comanda tar per crear un arxiu comprimit en format .tar.gz que inclogui tots els fitxers del directori temporal. Després assignem permisos restrictius (600) a l'arxiu comprimit per garantir la seva seguretat i mostrem un missatge per consola indicant on s'ha guardat l'arxiu. Si el directori temporal està buit, mostrem un missatge indicant que no hi ha fitxers per empaquetar i deixem la variable TAR_CAPTURES buida per indicar que no s'ha generat cap arxiu.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_042.png" /></p>
<p>En aquesta secció creem l'arxiu comprimit amb tot el contingut capturat. Primer comprovem si el directori temporal conté algun fitxer utilitzant la comanda <code>find</code> juntament amb <code>read</code> per detectar si hi ha elements dins del directori. Si trobem fitxers, executem la comanda <code>tar</code> per crear un arxiu comprimit en format .tar.gz que contingui tots els fitxers del directori temporal, canviant prèviament al directori amb l'opció <code>-C</code> per evitar incloure rutes completes. Després assignem permisos restrictius (600) a l'arxiu comprimit per motius de seguretat i mostrem un missatge d'èxit per consola. Si el directori temporal està buit, indiquem que no hi ha fitxers per empaquetar i deixem la variable TAR_CAPTURES buida per reflectir aquest estat.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_043.png" /></p>
<p>En aquesta secció preparem l'enviament del correu electrònic amb les captures. Primer comprovem si tenim instal·lat el client de correu <code>msmtp</code> al sistema. Si no el trobem disponible, mostrem un missatge d'ERROR per consola indicant que <code>msmtp</code> no està instal·lat i proporcionem la comanda necessària per instal·lar-lo (<code>sudo apt install msmtp</code>). A continuació, finalitzem l'execució de l'script amb codi d'error 1 per evitar que continuï l'enviament sense tenir l'eina necessària. Aquesta comprovació és crucial per assegurar-nos que disposem de tot el necessari abans d'intentar enviar el correu electrònic amb les captures recopilades.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_044.png" /></p>
<p>En aquesta secció final construïm i enviem el correu electrònic amb les captures. Primer generem la capçalera del missatge MIME amb les dades del destinatari, assumpte i versió. Si existeix l'arxiu comprimit amb les captures, creem un missatge multipart que inclou tant el text del correu com l'arxiu adjunt codificat en base64. Estructurem el missatge amb boundaries per separar les diferents parts. Si no hi ha arxiu per adjuntar, enviem només el text pla amb la informació del sistema. El missatge complet es redirigeix a msmtp per al seu enviament, utilitzant el fitxer de configuració especificat i el compte de Gmail. Verifiquem l'estat de l'enviament: si és exitós, ho confirmem per consola; si hi ha error, informem i sortim amb codi d'error. Finalment, netegem els recursos temporals (gràcies al trap configurat anteriorment) i sortim amb èxit.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_045.png" /></p>
<p>Aquest és un exemple de com es veuria el correu electrònic que s'envia amb l'script. El missatge inclou l'assumpte amb data i hora exacta "Informe+Captura - 2025-10-01_20-12-29", està adreçat a l'usuari Josep2001pellisa@gmail.com i conté un text amable sol·licitant que es revisin les captures adjuntes. El cos del missatge és breu i directe, amb una salutació i la informació de la data de generació. S'adjunten dos fitxers: l'informe i les captures comprimides, amb les dates corresponents.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_048.png" /></p>
<p>Aquests són els fitxers individuals que es generen amb cada execució de l'script de captures. Cada fitxer inclou la data i hora exacta (2025-10-01_20-12-29) per garantir que siguin únics i es puguin distingir entre diferents execucions. Tenim cinc tipus de fitxers: "finestres" que conté informació sobre les finestres obertes en l'entorn gràfic, "info_sistema" amb dades generals del sistema, "processos" que mostra els processos actius i l'ús de recursos, "screenshot" que és la captura de pantalla en format PNG, i "terminal" amb l'historial de comandes de la shell. Tots aquests fitxers s'empaqueten després en un sol arxiu comprimit .tar.gz per al seu enviament per correu electrònic.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_046.png" /></p>
<p>Aquest és el contingut de l'arxiu <code>info_sistema_2025-10-01_20-12-29.txt</code> que genera l'script. Conté un informe complet de l'estat del sistema en el moment de les captures. Inclou informació bàsica com el nom del host ("pellisa"), la data i hora exacta de la captura, les adreces IP actives (en aquest cas 192.168.203.156), els usuaris connectats (client1 en tty2), el target actual del systemd i un resum de l'ús dels discs amb <code>df -h</code>. Es pot observar que el disc principal (/dev/sda3) està al 57% de la seva capacitat, hi ha un disc de dades addicional (/dev/sdb1) muntat al 6%, i s'ha detectat un CD-ROM virtual de VirtualBox muntat al 100%. Aquesta informació és valuosa per fer un diagnòstic ràpid de l'estat del sistema.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_049.png" /></p>
<p>Aquest és el contingut de l'arxiu de processos que genera l'script. Mostra una llista dels processos actius en el sistema en el moment de la captura, limitada a les primeres 200 línies. La taula inclou informació detallada de cada procés: l'usuari que l'executa, el PID (Identificador de Procés), el percentatge d'ús de CPU i memòria, la memòria virtual i resident utilitzada, la terminal associada, l'estat del procés, l'hora d'inici, el temps d'execució i la comanda que l'ha llançat.</p>
<p><img alt="Captura" src="../custom/Selecci%C3%B3_050.png" /></p>
<p>Finalment aquest és el contingut de l'arxiu d'historial del terminal que captura l'script. Mostra les últimes 200 comandes executades per l'usuari en la shell bash. Es pot veure un historial d'activitats d'administració del sistema que inclou: canvis en el nom del host (hostname pellisa), instal·lació de paquets (apt install quota), modificació d'usuaris (usermod), creació i configuració de serveis systemd, edició de scripts amb nano, i canvis de permisos d'execució.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.4e0fa4ba.min.js"></script>
      
    
  </body>
</html>